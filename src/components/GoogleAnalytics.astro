---
import {getAnalyticsConfig} from '../config/analytics';

const {gaId, enabled} = getAnalyticsConfig();
---

{enabled && (
<>
  <script async src={`https://www.googletagmanager.com/gtag/js?id=${gaId}`}/>
  <script define:vars={{gaId}}>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', gaId);
  </script>
</>
  )}
